{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base", ":dependencyDashboard"],
  "description": "Onboarding preset for use with HMCTS's repositories",
  "timezone": "Europe/London",
  "schedule": "after 7am and before 11am every weekday",
  "labels": ["dependencies"],
  
  "helmv3": {
    "fileMatch": ["\\Chart.yaml$"],
    "bumpVersion": "patch",
    "registryAliases": {
      "hmctspublic": "https://hmctspublic.azurecr.io/helm/v1/repo/"
    }
  },
  "regexManagers": [{
    "fileMatch": ["^Dockerfile$"],
    "description": "Update docker args",
    "matchStrings": [
      "datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\sARG .*?_VERSION=(?<currentValue>.*)\\s"
    ]
  }]
}
